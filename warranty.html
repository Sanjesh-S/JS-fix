<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>WorthyTen - Warranty Condition</title>
  <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
  <link href="css/style.css" rel="stylesheet"/>
</head>
<body data-step="7">
  <div id="header"></div>

  <!-- Progress -->
  <div class="steps-bar-track"><div class="steps-bar-fill" id="stepsFill"></div></div>

  <script src="js/header.js"></script>
  <script src="js/ui.js"></script>

  <div class="main-container">
    <div class="warranty-card">
      <div class="evaluating-header">
        <img alt="Camera" class="evaluating-image" id="deviceImage" src="https://via.placeholder.com/80"/>
        <div class="evaluating-details">
          <span class="evaluating-title">Evaluating</span>
          <h1 class="evaluating-device-name" id="deviceName"></h1>
        </div>
      </div>

      <div class="progress-bar-container"><div class="progress-bar-fill"></div></div>

      <div class="breadcrumbs">
        <span>Overall Condition</span> ›
        <span>Physical Condition</span> ›
        <span>Functional &amp; Accessories</span> ›
        <span class="active">Warranty Condition</span>
      </div>

      <div class="warranty-body">
        <h2 class="section-title">Age of the Device</h2>
        <div class="age-options">
          <label class="radio-option">
            <input name="device_age" type="radio" value="under_11"/>
            <span class="radio-label">0-11 Months</span>
            <span class="radio-sublabel">Valid bill mandatory</span>
          </label>
          <label class="radio-option">
            <input checked name="device_age" type="radio" value="over_11"/>
            <span class="radio-label">Above 11 Months</span>
          </label>
        </div>
      </div>

      <div aria-live="polite" class="final-quote-display hidden" id="finalQuoteDisplay">
        <h3>Final Price</h3>
        <p class="final-price" id="finalPrice"></p>
      </div>

      <div class="page-navigation">
        <a class="nav-button prev" href="#" id="backToAccessories">‹</a>
        <a class="nav-button next" href="#" id="finishButton">Finish</a>
      </div>
    </div>
  </div>

  <!-- state-helper -->
  <script src="js/state-helper.js"></script>

  <!-- Firebase compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>

  <!-- Firebase config (your project values go in js/firebase-config.js) -->
  <script src="js/firebase-config.js"></script>

  <!-- Login modal logic -->
  <script src="js/login.js"></script>

  <!-- Warranty page logic -->
  <script src="js/warranty.js"></script>

  <!-- BEGIN: Login/Verification Modal with reCAPTCHA -->
  <div id="simple-login-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:2000; align-items:center; justify-content:center;">
    <div style="background:#fff; padding:18px; border-radius:8px; width:420px; max-width:95%; margin:40px auto; position:relative;">
      <button id="login-modal-close" style="position:absolute; right:10px; top:8px; border:0; background:transparent; font-size:18px; cursor:pointer;">✕</button>
      <h3 style="margin-top:4px; margin-bottom:8px;">Login / Verify</h3>

      <!-- Step 1: phone -->
      <div id="login-step-phone">
        <label style="font-size:13px; display:block; margin-bottom:6px;">Enter mobile number</label>
        <div style="display:flex; gap:8px; align-items:center;">
          <span style="padding:8px 10px; background:#f0f0f0; border-radius:4px;">+91</span>
          <input id="login-phone" type="tel" placeholder="Enter 10-digit mobile" maxlength="10" style="flex:1; padding:8px; border-radius:4px; border:1px solid #ccc;" />
        </div>
        <div style="margin-top:12px;">
          <button id="send-otp-btn" style="padding:8px 12px; cursor:pointer;">Send OTP</button>
        </div>
      </div>

      <!-- Step 2: OTP -->
      <div id="login-step-otp" style="display:none; margin-top:12px;">
        <label style="font-size:13px; display:block; margin-bottom:6px;">Enter OTP</label>
        <input id="login-otp" maxlength="6" placeholder="123456" style="padding:8px; border-radius:4px; border:1px solid #ccc; width:100%;" />
        <div style="margin-top:10px;">
          <button id="verify-otp-btn" style="padding:8px 12px; cursor:pointer;">Verify</button>
        </div>
      </div>

      <!-- Error / Success -->
      <div id="login-error" style="color:#b22222; margin-top:10px; display:none; font-size:13px;"></div>
      <div id="login-success" style="color:green; margin-top:10px; display:none; font-size:13px;"></div>

      <!-- REQUIRED: reCAPTCHA container -->
      <div id="recaptcha-container"></div>
    </div>
  </div>
  <!-- END: Login/Verification Modal -->

</body>
</html>
